<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calories - VHealth</title>
    
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/header.css">
    <link rel="stylesheet" href="../assets/css/leftnav.css">
    <link rel="stylesheet" href="../assets/css/footer.css">
    <link rel="stylesheet" href="../assets/css/Calories.css">
    <link rel="stylesheet" href="../assets/css/chatbot.css">
    
    <style>
        .main-content {
            display: none;
        }
        .main-content.auth-verified {
            display: block;
        }
        
        .loading-placeholder {
            color: #999;
            font-style: italic;
        }
    </style>
</head>

<body>
    <script>
        (function () {
            const currentUser = sessionStorage.getItem('currentUser');
            if (currentUser) {
                document.addEventListener('DOMContentLoaded', function () {
                    const mainContent = document.querySelector('.main-content');
                    if (mainContent) {
                        mainContent.classList.add('auth-verified');
                    }
                });
            }
        })();
    </script>

    <div id="header-placeholder"></div>

    <div class="container">
        <div id="sidebar-placeholder"></div>

        <main class="main-content">
            <div class="calories-content">
                <!-- ===== TH√îNG TIN NG∆Ø·ªúI D√ôNG ===== -->
                <div class="user-info-container">
                    <h2>Th√¥ng tin ng∆∞·ªùi d√πng</h2>
                    <div class="user-info-content">
                        <div class="user-avatar">
                            <img src="../assets/images/Calories/avartar.png" alt="Avatar ng∆∞·ªùi d√πng">
                        </div>

                        <div class="user-details">
                            <div class="info-left">
                                <p>Tu·ªïi: <span class="loading-placeholder">--</span></p>
                                <p>Chi·ªÅu cao: <span class="loading-placeholder">--</span></p>
                            </div>

                            <div class="info-center">
                                <p>C√¢n n·∫∑ng: <span class="loading-placeholder">--</span></p>
                                <p>
                                    C∆∞·ªùng ƒë·ªô luy·ªán t·∫≠p:
                                    <span id="intensityText" style="color:#2f8f46; cursor:pointer;">m·ª©c -- ‚ñº</span>
                                </p>

                                <div id="intensityBox" class="intensity-box" style="display:none;">
                                    <h4>Thay ƒë·ªïi c∆∞·ªùng ƒë·ªô luy·ªán t·∫≠p <i class="fas fa-dumbbell"></i></h4>
                                    <select id="activityLevel">
                                        <option value="1">√çt v·∫≠n ƒë·ªông</option>
                                        <option value="2">V·∫≠n ƒë·ªông nh·∫π</option>
                                        <option value="3">V·∫≠n ƒë·ªông trung b√¨nh</option>
                                        <option value="4">V·∫≠n ƒë·ªông cao</option>
                                    </select>
                                    <p class="description" id="activityDesc">
                                        ‚Ä¢ N·∫øu b·∫°n ng·ªìi nhi·ªÅu, √≠t ho·∫°t ƒë·ªông ch√¢n tay, kh√¥ng t·∫≠p th·ªÉ d·ª•c
                                    </p>
                                    <div class="buttons">
                                        <button id="closeBox">ƒê√≥ng</button>
                                        <button id="saveBox">L∆∞u l·∫°i</button>
                                    </div>
                                </div>
                            </div>

                            <div class="info-right">
                                <p>M·ª•c ti√™u: <span class="loading-placeholder">--</span></p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ===== T·ªîNG QUAN H√îM NAY ===== -->
                <div class="overview-container" id="overviewSection">
                    <h2>T·ªïng quan h√¥m nay</h2>

                    <div class="overview-content">
                        <!-- Bi·ªÉu ƒë·ªì calo -->
                        <div class="calo-chart">
                            <div class="circle">
                                <div class="inner-text">
                                    <!-- ‚úÖ ƒê·ªÇ TR·ªêNG -->
                                    <p class="loading-placeholder">--<br><span>/-- calo</span></p>
                                </div>
                            </div>
                        </div>

                        <!-- Dinh d∆∞·ª°ng -->
                        <div class="nutrients">
                            <div class="nutrient">
                                <div class="label">
                                    <span>Tinh b·ªôt üåæ</span>
                                </div>
                                <div class="progress">
                                    <div class="bar carbs" style="width: 0%;"></div>
                                </div>
                                <p class="loading-placeholder">-- / -- g</p>
                            </div>

                            <div class="nutrient">
                                <div class="label">
                                    <span>ƒê·∫°m ü•©</span>
                                </div>
                                <div class="progress">
                                    <div class="bar protein" style="width: 0%;"></div>
                                </div>
                                <p class="loading-placeholder">-- / -- g</p>
                            </div>

                            <div class="nutrient">
                                <div class="label">
                                    <span>B√©o ü•ú</span>
                                </div>
                                <div class="progress">
                                    <div class="bar fat" style="width: 0%;"></div>
                                </div>
                                <p class="loading-placeholder">-- / -- g</p>
                            </div>

                            <div class="nutrient">
                                <div class="label">
                                    <span>X∆° üçé</span>
                                </div>
                                <div class="progress">
                                    <div class="bar fiber" style="width: 0%;"></div>
                                </div>
                                <p class="loading-placeholder">-- / -- g</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ===== DANH S√ÅCH TH·ª∞C PH·∫®M ===== -->
                <div class="food-section" id="foodSection" style="display: none;">
                    <div class="food-header">
                        <button class="back-btn"><i class="fas fa-arrow-left"></i></button>
                        <div class="search-bar">
                            <i class="fas fa-microphone"></i>
                            <input type="text" placeholder="T√¨m ki·∫øm m√≥n ƒÉn...">
                            <i class="fas fa-search"></i>
                        </div>
                        <div class="food-tools">
                            <i class="fas fa-question-circle"></i>
                            <i class="fas fa-filter"></i>
                        </div>
                    </div>

                    <div class="food-columns">
                        <!-- C·ªôt G·∫ßn ƒë√¢y -->
                        <div class="food-column">
                            <h3>G·∫ßn ƒë√¢y</h3>
                            <ul>
                                <li class="loading-placeholder" style="text-align: center; padding: 20px;">ƒêang t·∫£i...</li>
                            </ul>
                        </div>

                        <!-- C·ªôt Y√™u th√≠ch -->
                        <div class="food-column">
                            <h3>Y√™u th√≠ch</h3>
                            <ul>
                                <li class="loading-placeholder" style="text-align: center; padding: 20px;">ƒêang t·∫£i...</li>
                            </ul>
                        </div>

                        <!-- C·ªôt C·ªßa t√¥i -->
                        <div class="food-column">
                            <h3>C·ªßa t√¥i</h3>
                            <ul>
                                <li class="loading-placeholder" style="text-align: center; padding: 20px;">ƒêang t·∫£i...</li>
                            </ul>
                            <button class="add-food">+ Th√™m th·ª±c ph·∫©m c·ªßa b·∫°n</button>
                        </div>
                    </div>
                </div>

                <!-- ===== H∆Ø·ªöNG D·∫™N S·ª¨ D·ª§NG TH·ª∞C PH·∫®M ===== -->
                <div class="food-guide" id="guideSection">
                </div>

                <!-- ===== C√ÅC BU·ªîI ƒÇN ===== -->
                <div class="meal-container">
                    <div class="meal-title" id="mealTitle" style="display: none;">
                        <h2>Th·ª±c ƒë∆°n cho <span id="currentMealName"></span></h2>
                    </div>

                    <div class="meal-section">
                        <div class="meal">
                            <div class="plus meal-btn" data-meal="breakfast">+</div>
                            <p>Bu·ªïi s√°ng</p>
                        </div>
                        <div class="meal">
                            <div class="plus meal-btn" data-meal="lunch">+</div>
                            <p>Bu·ªïi tr∆∞a</p>
                        </div>
                        <div class="meal">
                            <div class="plus meal-btn" data-meal="dinner">+</div>
                            <p>Bu·ªïi t·ªëi</p>
                        </div>
                        <div class="meal">
                            <div class="plus meal-btn" data-meal="snack">+</div>
                            <p>Bu·ªïi ph·ª•</p>
                        </div>
                    </div>

                    <!-- Ch·∫ø ƒë·ªô ƒÉn -->
                    <div class="diet-mode">
                        <p>B·∫°n ƒëang ƒÉn theo ch·∫ø ƒë·ªô:
                            <select class="diet-select">
                                <option>C√¢n b·∫±ng</option>
                                <option>High Protein</option>
                                <option>Ketogenic</option>
                                <option>Low Card</option>
                                <option>Atkins</option>
                                <option>Paleo</option>
                                <option>Dash</option>
                            </select>
                            <span class="help">?</span>
                        </p>
                    </div>
                </div>

                <!-- ===== DASHBOARD CALO ===== -->
                <div class="dashboard" id="dashboardSection">
                    <!-- √î ch·ªçn tu·∫ßn -->
                    <div class="week-box">
                        <div class="week-left">
                            <p class="month">Th√°ng 11</p>
                            <p class="week">Tu·∫ßn n√†y</p>
                        </div>
                        <div class="week-days">
                            <span>T2<br>--</span>
                            <span>T3<br>--</span>
                            <span>T4<br>--</span>
                            <span class="active">T5<br>--</span>
                            <span>T6<br>--</span>
                            <span>T7<br>--</span>
                            <span>CN<br>--</span>
                        </div>
                        <div class="week-arrows">
                            <span>&lt;</span>
                            <span>&gt;</span>
                        </div>
                    </div>

                    <!-- √î icon l·ªãch -->
                    <div class="calendar-box">
                        <i class="fas fa-calendar-alt"></i>
                    </div>

                    <div class="calo-box">
                        <h3>L∆∞·ª£ng calo c·∫ßn n·∫°p</h3>

                        <div class="calo-circle">
                            <div class="calo-inner">
                                <p class="loading-placeholder">--<br><span>/-- calo</span></p>
                            </div>
                        </div>

                        <div class="calo-bars">
                            <div class="bar">
                                <div class="fill" style="height: 0%;"></div>
                                <span>T2</span>
                            </div>
                            <div class="bar">
                                <div class="fill" style="height: 0%;"></div>
                                <span>T3</span>
                            </div>
                            <div class="bar">
                                <div class="fill" style="height: 0%;"></div>
                                <span>T4</span>
                            </div>
                            <div class="bar">
                                <div class="fill" style="height: 0%;"></div>
                                <span>T5</span>
                            </div>
                            <div class="bar">
                                <div class="fill" style="height: 0%;"></div>
                                <span>T6</span>
                            </div>
                            <div class="bar">
                                <div class="fill" style="height: 0%;"></div>
                                <span>T7</span>
                            </div>
                            <div class="bar">
                                <div class="fill" style="height: 0%;"></div>
                                <span>CN</span>
                            </div>
                        </div>
                    </div>

                    <!-- √î dinh d∆∞·ª°ng -->
                    <div class="nutrition-box">
                        <h3>Dinh d∆∞·ª°ng</h3>
                        
                        <div class="nutrition-content">
                            <div class="nutrient">
                                <div class="label">
                                    <span>Tinh b·ªôt üåæ</span>
                                </div>
                                <div class="progress">
                                    <div class="bar carbs" style="width: 0%;"></div>
                                </div>
                                <p class="loading-placeholder">-- / -- g</p>
                            </div>

                            <div class="nutrient">
                                <div class="label">
                                    <span>ƒê·∫°m ü•©</span>
                                </div>
                                <div class="progress">
                                    <div class="bar protein" style="width: 0%;"></div>
                                </div>
                                <p class="loading-placeholder">-- / -- g</p>
                            </div>

                            <div class="nutrient">
                                <div class="label">
                                    <span>B√©o ü•ú</span>
                                </div>
                                <div class="progress">
                                    <div class="bar fat" style="width: 0%;"></div>
                                </div>
                                <p class="loading-placeholder">-- / -- g</p>
                            </div>

                            <div class="nutrient">
                                <div class="label">
                                    <span>X∆° üçé</span>
                                </div>
                                <div class="progress">
                                    <div class="bar fiber" style="width: 0%;"></div>
                                </div>
                                <p class="loading-placeholder">-- / -- g</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="follow-container" id="followSection">
                    <div class="follow-header">
                        <i class="fas fa-arrow-left back"></i>
                        <div class="follow-title">
                            <i class="fas fa-calendar-alt"></i>
                            <h2>Theo d√µi</h2>
                        </div>
                    </div>

                    <div class="follow-content">
                        <!-- C·ªôt l·ªãch -->
                        <div class="follow-calendar">
                            <div class="calendar-top">
                                <span>Th√°ng 11 2025</span>
                                <div class="calendar-arrow">
                                    <i class="fas fa-chevron-left"></i>
                                    <i class="fas fa-chevron-right"></i>
                                </div>
                            </div>

                            <table class="calendar-table">
                                <thead>
                                    <tr>
                                        <th>CN</th><th>T2</th><th>T3</th><th>T4</th><th>T5</th><th>T6</th><th>T7</th>
                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                        </div>

                        <div class="follow-info">
                            <!-- √î 1: Th√¥ng tin calo -->
                            <div class="info-box calo-summary">
                                <p class="loading-placeholder">T·ªïng calo ƒë√£ n·∫°p: <span class="highlight">-- kcal</span></p>
                                <p class="loading-placeholder">T·ªïng calo c·∫ßn n·∫°p: <span class="highlight">-- kcal</span></p>
                                <p class="loading-placeholder">L∆∞·ª£ng calo c·∫ßn th√¢m h·ª•t: <span class="highlight">-- kcal</span></p>
                                <p class="loading-placeholder">L∆∞·ª£ng calo ƒë√£ th√¢m h·ª•t: <span class="highlight">-- kcal</span></p>
                            </div>

                            <!-- √î 2: Th·ªëng k√™ ng√†y -->
                            <div class="info-box day-stats">
                                <p class="loading-placeholder"><span class="dot green"></span> S·ªë ng√†y ƒÉn ƒë·∫°t khuy·∫øn ngh·ªã: <span class="green">-- ng√†y</span></p>
                                <p class="loading-placeholder"><span class="dot yellow"></span> S·ªë ng√†y ƒÉn d∆∞·ªõi BMR: <span class="yellow">-- ng√†y</span></p>
                                <p class="loading-placeholder"><span class="dot red"></span> S·ªë ng√†y ƒÉn qu√° l∆∞·ª£ng c·∫ßn n·∫°p: <span class="red">-- ng√†y</span></p>
                            </div>
                        </div>
                    </div>

                    <!-- 3 √¥ b√™n d∆∞·ªõi -->
                    <div class="follow-bottom">
                        <div class="card suggest">
                            <h3>G·ª£i √Ω b·ªØa ƒÉn</h3>
                            <p>B·∫°n ƒëang c√≥ xu h∆∞·ªõng ƒÉn qu√° nhi·ªÅu ƒë·∫°m. H√£y b·ªï sung th√™m rau xanh nh√©.</p>
                        </div>
                        <div class="card goal">
                            <h3>M·ª•c ti√™u</h3>
                            <p>Duy tr√¨ d∆∞·ªõi 1800 calo / ng√†y</p>
                        </div>
                        <div class="card warning">
                            <h3>C·∫£nh b√°o</h3>
                            <p>
                                T√°c ƒë·ªông n·∫øu kh√¥ng v·∫≠n ƒë·ªông ƒë·ªß:<br>
                                - TƒÉng nguy c∆° b√©o ph√¨, ti·ªÉu ƒë∆∞·ªùng, b·ªánh tim m·∫°ch.<br>
                                - G√¢y m·ªèi m·∫Øt, ƒëau l∆∞ng, cƒÉng c∆° c·ªï vai g√°y.<br>
                                - L√†m gi·∫£m hi·ªáu su·∫•t l√†m vi·ªác v√† t√¢m tr·∫°ng ti√™u c·ª±c.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Modal Th√™m Th·ª±c Ph·∫©m -->
                <div class="food-modal-overlay" id="foodModal">
                </div>

                <!-- Modal ch√∫ th√≠ch ch·∫ø ƒë·ªô ƒÉn -->
                <div class="diet-modal-overlay" id="dietModal">
                </div>

                <!-- Modal b·ªô l·ªçc m√≥n ƒÉn -->
                <div class="filter-modal-overlay" id="filterModal">
                </div>

            </div>
        </main>
    </div>

    <div id="footer-placeholder"></div>

    <script src="../assets/javascript/auth-check.js"></script>
    <script src="../assets/javascript/calories-data-loader.js"></script>
    <script src="../assets/javascript/chatbot.js"></script>
    <script src="../assets/javascript/header.js"></script>
    <script src="../assets/javascript/leftnav.js"></script>
    <script src="../assets/javascript/footer.js"></script>
    <script src="../assets/javascript/Calories.js"></script>
</body>
</html>