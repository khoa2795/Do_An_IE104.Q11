<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VHealth - Tiền sử bệnh tật</title>
    <script src="/assets/javascript/theme-preload.js"></script>

    <link rel="preload" href="../assets/css/style.css" as="style" fetchpriority="high">
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="preload" href="../assets/css/header.css" as="style">
    <link rel="stylesheet" href="../assets/css/header.css">
    <link rel="preload" href="../assets/css/leftnav.css" as="style">
    <link rel="stylesheet" href="../assets/css/leftnav.css">
    <link rel="stylesheet" href="../assets/css/footer.css">
    <link rel="preload" href="../assets/css/health-info.css" as="style">
    <link rel="stylesheet" href="../assets/css/health-info.css">
    <link rel="preload" href="../assets/css/medical-history.css" as="style">
    <link rel="stylesheet" href="../assets/css/medical-history.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <script>
        window.addEventListener('load', function () {
            if (document.body) {
                document.body.removeAttribute('data-critical');
            }
        });
    </script>

    <style>
        .main-content {
            display: none;
        }

        .main-content.auth-verified {
            display: block;
        }

        .no-data {
            padding: 20px;
            text-align: center;
            color: #999;
            font-style: italic;
        }

        .loading-placeholder {
            color: #999;
            font-style: italic;
        }
    </style>
</head>

<body class="page-medical-history" data-critical="pending">
    <script>
        (function () {
            const currentUser = sessionStorage.getItem('currentUser');
            if (currentUser) {
                document.addEventListener('DOMContentLoaded', function () {
                    const mainContent = document.querySelector('.main-content');
                    if (mainContent) {
                        mainContent.classList.add('auth-verified');
                    }
                });
            }
        })();
    </script>

    <div id="header-placeholder"></div>

    <div class="container">
        <div id="sidebar-placeholder"></div>

        <main class="main-content">

            <section class="health-header">
                <div class="row">
                    <div class="left-box">
                        <div class="header-left">
                            <img src="/assets/images/Health/avatar.png" alt="Avatar" class="avatar">
                            <div class="title">
                                <!-- ✅ ĐỂ TRỐNG -->
                                <h2 class="loading-placeholder">Đang tải...</h2>
                            </div>
                        </div>
                    </div>

                    <div class="right-box">
                        <div class="header-right">
                            <!-- ✅ ĐỂ TRỐNG -->
                            <p class="loading-placeholder">Đang tải thông tin...</p>
                        </div>
                    </div>
                </div>

                <div class="tab-menu">
                    <button class="tab" data-tab="info">Thông tin sức khỏe cá nhân</button>
                    <button class="tab active" data-tab="disease">Thông tin tiền sử bệnh tật</button>
                </div>
            </section>

            <div class="tab-content">

                <div class="tab-pane" id="info">
                </div>

                <div class="tab-pane active" id="disease">

                    <div class="health-grid-container">

                        <div class="health-col">

                            <div class="history-card">
                                <div class="history-card-header">
                                    <span class="card-title">Bệnh đang mắc</span>
                                    <button class="btn-add">+</button>
                                </div>
                                <div class="history-card-content">
                                    <!-- ✅ ĐỂ TRỐNG - SẼ ĐƯỢC LOAD TỪ JSON -->
                                    <p class="no-data">Đang tải...</p>
                                </div>
                            </div>

                            <div class="history-card">
                                <div class="history-card-header">
                                    <span class="card-title">Thuốc điều trị</span>
                                    <button class="btn-add">+</button>
                                </div>
                                <div class="history-card-content">
                                    <!-- ✅ ĐỂ TRỐNG -->
                                    <p class="no-data">Đang tải...</p>
                                </div>
                            </div>

                        </div>

                        <div class="health-col">

                            <div class="history-card">
                                <div class="history-card-header">
                                    <span class="card-title">Tiền sử phẫu thuật</span>
                                    <button class="btn-add">+</button>
                                </div>
                                <div class="history-card-content">
                                    <p class="no-data">Đang tải...</p>
                                </div>
                            </div>

                            <div class="history-card">
                                <div class="history-card-header">
                                    <span class="card-title">Tiền sử tiêm chủng</span>
                                    <button class="btn-add">+</button>
                                </div>
                                <div class="history-card-content">
                                    <p class="no-data">Đang tải...</p>
                                </div>
                            </div>

                        </div>

                        <div class="health-col notes-column">
                            <h3 class="col-title">Lưu ý</h3>
                            <div class="info-card">
                                <span class="info-card-title">Dị ứng thuốc</span>
                                <span class="info-card-content loading-placeholder">--</span>
                            </div>
                            <div class="info-card">
                                <span class="info-card-title">Thói quen sống</span>
                                <span class="info-card-content loading-placeholder">--</span>
                            </div>
                            <div class="info-card">
                                <span class="info-card-title">Mục tiêu</span>
                                <span class="info-card-content loading-placeholder">--</span>
                            </div>
                            <div class="info-card">
                                <span class="info-card-title">Chế độ dinh dưỡng</span>
                                <span class="info-card-content loading-placeholder">--</span>
                            </div>
                            <div class="info-card">
                                <span class="info-card-title">Tình trạng tâm lý</span>
                                <span class="info-card-content loading-placeholder">--</span>
                            </div>
                            <div class="info-card">
                                <span class="info-card-title">Bệnh di truyền</span>
                                <span class="info-card-content loading-placeholder">--</span>
                            </div>
                            <div class="info-card">
                                <span class="info-card-title">Đang điều trị bệnh lý</span>
                                <span class="info-card-content loading-placeholder">--</span>
                            </div>
                            <div class="info-card info-card-add">
                                <span>+</span>
                            </div>
                        </div>
                    </div>

                    <section class="recommend-section">
                        <h3>Gợi ý bài viết</h3>
                        <div class="article-grid">
                            <div class="article-card">
                                <img src="/assets/images/Health/vidu1.webp" alt="Bài viết 1">
                                <p>5 mẹo giữ gìn sức khỏe trong mùa đông</p>
                                <a href="#">Xem thêm</a>
                            </div>
                            <div class="article-card">
                                <img src="/assets/images/Health/vidu2.webp" alt="Bài viết 2">
                                <p>7 thực phẩm dễ kiếm giúp giảm cân và tăng cường sức khỏe mùa đông</p>
                                <a href="#">Xem thêm</a>
                            </div>
                            <div class="article-card">
                                <img src="/assets/images/Health/vidu3.webp" alt="Bài viết 3">
                                <p>8 loại trái cây giúp giảm cân và tăng cường sức khỏe trong mùa đông</p>
                                <a href="#">Xem thêm</a>
                            </div>
                            <div class="article-card">
                                <img src="/assets/images/Health/vidu4.webp" alt="Bài viết 4">
                                <p>Uống nước ép trái cây hằng ngày có gây tăng cân không?</p>
                                <a href="#">Xem thêm</a>
                            </div>
                        </div>
                    </section>

                </div>

            </div>
        </main>
    </div>

    <div id="footer-placeholder"></div>

    <script src="/assets/javascript/auth-check.js"></script>
    <script src="/assets/javascript/data-cache.js"></script>
    <script src="/assets/javascript/health-data-loader.js"></script>
    <script src="/assets/javascript/header.js"></script>
    <script src="/assets/javascript/leftnav.js"></script>
    <script src="/assets/javascript/footer.js"></script>
    <script src="/assets/javascript/script.js"></script>
    <script src="/assets/javascript/Health.js"></script>
    <script src="/assets/javascript/chatbot.js"></script>

</body>

</html>